{% extends "esqueleto.html" %}

{% block contenido %}

    <header class="jumbotron my-4">
        <h2 class="display-3">Modificación de un videojuego</h2>
    </header>

    <div class="container">
        <div class="row">
            <form id="formModVideojuego"
                method="post"
                action="/videojuego/modifica?id={{videojuego.key.urlsafe()}}"
                  enctype="multipart/form-data"
                onsubmit="return check()"
                role="form" class="col-md-9 go-right">

                <div class="form-group">
                    <label for="modTitulo">Titulo</label>
                    <input type="text" id="modTitulo" name="modTitulo" value="{{videojuego.titulo}}" class="form-control"/>
                </div>

                <div class="form-group">
                    <label for="modSinopsis">Sinopsis</label>
                    <textarea id="modSinopsis" name="modSinopsis" rows="2" cols="60" class="form-control">
                        {{videojuego.sinopsis}}
                    </textarea>
                </div>


                <div class="form-group">
                    <label for="modGenero">Género del videojuego</label>
                    <select id="modGenero" name="modGenero" class="form-control">
                        <option value="Accion">Accion</option>
                        <option value="Estrategia">Estrategia</option>
                        <option value="Plataformas">Plataformas</option>
                        <option value="Otro">Otro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="modPegi">Código PEGI</label>
                    <select id="modPegi" name="modPegi" class="form-control">
                        <option value="3">PEGI 3</option>
                        <option value="7">PEGI 7</option>
                        <option value="12">PEGI 12</option>
                        <option value="16">PEGI 16</option>
                        <option value="18">PEGI 18</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="modCaratula">Caratula</label>
                    <input type="file" id="modCaratula" name="modCaratula" class="form-control"/>
                </div>

                <input type="submit" value="enviar" class="btn btn-primary btn-lg">
            </form>
        </div>
    </div>


<script>
        function check(){
            const titulo = document.getElementById("modTitulo");
            const sinopsis = document.getElementById("modSinopsis");
            const genero = document.getElementById("modGenero");
            const pegi = document.getElementById("modPegi");
            const caratula = document.getElementById("modCaratula");

            return ( titulo.nodeValue.trim().length >0
                && sinopsis.nodeValue.trim().length >0
                && genero.nodeValue.trim().length >0
                && pegi.nodeValue > 0
                && caratula.nodeValue.length > 0)
        }
</script>
{% endblock %}